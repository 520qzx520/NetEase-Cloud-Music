import{_ as f,a as b,g as S,o as c,c as r,b as t,t as e,F as v,d as y,w as C,a5 as w,e as k,p as L,f as $,h as z,r as x,n as U}from"../index-e6aff8d6.js";import{E as D}from"../el-select/el-select.8325e87a.js";var N="./static/css//user-25423d5f.jpg";const P={data(){return{commentList:[],total:1e3,pageSize:20,pageNo:1,commenttotal:0,hotComments:0}},props:["id"],mounted(){this.getPlayListComment()},methods:{async getPlayListComment(){let s=await b.getPlayListComment(this.id,this.pageSize,(this.pageNo-1)*this.pageSize);this.commentList=s.data.comments,this.commenttotal=s.data.total,this.total=s.data.total,this.hotComments=s.data.hotComments.length,console.log(s.data)},handleSizeChange(s){this.pageSize=s,this.getPlayListComment()},handleCurrentChange(s){this.pageNo=s,this.getPlayListComment()}}},p=s=>(L("data-v-65b6646f"),s=s(),$(),s),I={class:"comment-box"},M={class:"comment-contain"},V={class:"comment-contain-title"},G=p(()=>t("h3",null,"\u70ED\u95E8\u8BC4\u8BBA",-1)),T=z('<div class="user-input" data-v-65b6646f><div class="input" data-v-65b6646f><img src="'+N+'" data-v-65b6646f><textarea class="text" placeholder="\u8BC4\u8BBA" data-v-65b6646f></textarea></div><div class="user-input-icon" data-v-65b6646f><i class="emjoy" data-v-65b6646f></i><i class="at" data-v-65b6646f></i><span data-v-65b6646f>\uFF08520\u5B57\uFF09</span><a data-v-65b6646f>\u8BC4\u8BBA</a></div></div>',1),A={class:"comment-contain-title newcomment"},H=p(()=>t("h3",null,"\u6700\u65B0\u8BC4\u8BBA",-1)),R={class:"comment-list-flex"},B={class:"lists"},E={style:{color:"red"}},j={class:"lists"},F={style:{color:"blue"}},q={class:"btm"},J={class:"btm-left"},K=p(()=>t("i",{class:"zan"},null,-1)),O=p(()=>t("span",null,"| \u56DE\u590D",-1));function Q(s,l,a,u,i,o){const g=D,h=S("lazy");return c(),r("div",I,[t("div",M,[t("div",V,[G,t("span",null,"("+e(i.hotComments)+")",1)]),T,t("div",A,[H,t("span",null,"("+e(i.commenttotal)+")",1)]),(c(!0),r(v,null,y(i.commentList,n=>(c(),r("div",{class:"comment-list",key:n.commentId},[t("div",R,[C(t("img",null,null,512),[[h,n.user.avatarUrl]]),t("div",B,[t("a",E,e(n.user.nickname),1),t("p",null,e(n.content),1),(c(!0),r(v,null,y(n.beReplied,(d,m)=>(c(),r("div",{class:"comment-list-flex",key:m},[C(t("img",null,null,512),[[h,d.user.avatarUrl]]),t("div",j,[t("a",F,e(d.user.nickname),1),t("p",null,e(d.content),1)])]))),128))])]),t("div",q,[t("span",J,e(n.timeStr),1),K,w(" ("+e(n.likedCount)+") ",1),O])]))),128)),k(g,{background:"",onSizeChange:o.handleSizeChange,onCurrentChange:o.handleCurrentChange,modelValue:i.pageNo,"onUpdate:modelValue":l[0]||(l[0]=n=>i.pageNo=n),"page-size":i.pageSize,layout:"prev, pager, next",total:i.total,class:"pagination"},null,8,["onSizeChange","onCurrentChange","modelValue","page-size","total"])])])}var W=f(P,[["render",Q],["__scopeId","data-v-65b6646f"]]);const X={data(){return{imgURl:"",name:"",playCount:0,shareCount:0,commentCount:0,subscribedCount:"",description:"",trackslist:"",creator:{},createTime:0}},components:{Comment:W},mounted(){this.getPlayList(this.$route.params.id)},methods:{async getPlayList(s){let l=await b.getPlayList(s),a=l.data.playlist;this.playlist=a.tracks,this.playCount=a.playCount,this.shareCount=a.shareCount,this.commentCount=a.commentCount,this.subscribedCount=a.subscribedCount,this.imgURl=a.coverImgUrl,this.name=a.name,this.description=a.description,this.trackslist=a.tracks,this.creator=a.creator,this.createTime=a.createTime,console.log(l.data)},cutString(s){return s?s.length>8?s.substring(0,8)+"...":s:""},async getUrl(s,l){await this.$store.dispatch("GetMusicData/getMusicUrl",s),await this.$store.dispatch("GetMusicData/getMusicLyric",s),await this.$store.dispatch("GetMusicData/getSongDetail",s),this.eventHub.$emit("goData","Go");let a=this.$refs.play.querySelectorAll("i");for(let u=0;u<a.length;u++)a[u].className="";l.target.className="active"},async getLyric(s){this.$router.push(`/playmusic/${s}`),await this.$store.dispatch("GetMusicData/getSongDetail",s),await this.$store.dispatch("GetMusicData/getMusicLyric",s),this.eventHub.$emit("goLyric","Lyric")},cutString(s){return s?s.length>8?s.substring(0,8)+"...":s:""},timeHandel(s){let l=this.timeAdd0(parseInt(s/6e4%60)),a=this.timeAdd0(parseInt(s/1e3%60));return`${l} : ${a}`},timeAdd0(s){return s<9?`0${s}`:s}},unmounted(){}},_=s=>(L("data-v-6d8273dd"),s=s(),$(),s),Y={class:"box"},Z={class:"right"},tt={class:"right-margin"},st={class:"right-img"},et=["src"],at={class:"right-sub"},it={class:"singer"},nt=["src"],lt={class:"span"},ot={class:"icon"},ct=_(()=>t("a",{class:"play"},[t("i",{class:"play-icon"}),t("span",null,"\u64AD\u653E")],-1)),rt=_(()=>t("a",{class:"add"},null,-1)),dt={class:"dis"},ut={class:"share"},_t=_(()=>t("a",{class:"download"},[t("span",null,"\u4E0B\u8F7D")],-1)),ht={class:"comment"},mt={class:"margin-list"},pt=_(()=>t("div",{class:"title"},[t("h2",null,"\u6B4C\u66F2\u5217\u8868"),t("p",null,"100\u9996\u6B4C\u64AD\u653E\uFF1A"),t("span",null,"4912770560 \u6B21")],-1)),gt={class:"list",ref:"play"},vt=z('<ul class="header" data-v-6d8273dd><li class="w1" data-v-6d8273dd></li><li class="w2" data-v-6d8273dd>\u6807\u9898</li><li class="w3" data-v-6d8273dd>\u65F6\u957F</li><li class="w4" data-v-6d8273dd>\u6B4C\u624B</li></ul>',1),yt=["onClick"],Ct=_(()=>t("i",null,null,-1)),ft=["onClick"],bt={class:"w3"},St={class:"w4"};function wt(s,l,a,u,i,o){const g=x("Comment"),h=S("lazy");return c(),r("div",Y,[t("div",Z,[t("div",tt,[t("div",st,[t("img",{src:i.imgURl},null,8,et)]),t("div",at,[t("div",null,[t("h3",null,e(i.name),1),t("div",it,[t("img",{src:i.creator.avatarUrl},null,8,nt),t("span",lt,e(i.creator.nickname),1),t("span",null,e(i.createTime),1)]),t("div",ot,[ct,rt,t("a",dt,[t("span",null,e(i.subscribedCount),1)]),t("a",ut,[t("span",null,e(i.shareCount),1)]),_t,t("a",ht,[t("span",null,e(i.commentCount),1)])]),t("p",null,e(i.description),1)])])]),t("div",mt,[pt,t("div",gt,[vt,(c(!0),r(v,null,y(i.trackslist,(n,d)=>(c(),r("ul",{key:n.id,class:U({pad2:d>3,"list-contain":!0,background:d%2!==0})},[t("li",{class:"w1 pd1",onClick:m=>o.getUrl(n.id,m)},[w(e(d+1)+" ",1),Ct],8,yt),t("li",{class:"w2",onClick:m=>o.getLyric(n.id)},[C(t("img",null,null,512),[[h,n.al.picUrl]]),t("span",null,e(o.cutString(n.name)),1)],8,ft),t("li",bt,e(o.timeHandel(n.dt)),1),t("li",St,e(o.cutString(n.ar[0].name)),1)],2))),128))],512)]),k(g,{id:this.$route.params.id},null,8,["id"])])])}var $t=f(X,[["render",wt],["__scopeId","data-v-6d8273dd"]]);export{$t as default};
