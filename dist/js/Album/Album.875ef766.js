import{E as c}from"../el-select/el-select.8325e87a.js";import{_ as h,a as d,g as p,o,c as l,b as t,F as _,d as m,e as S,w as b,t as r,p as v,f as A}from"../index-e6aff8d6.js";const C={data(){return{total:100,pageSize:20,pageNo:1,hotAlbums:[]}},mounted(){this.getSongerAlbum()},methods:{async getSongerAlbum(){let e=await d.getSongerAlbum(this.$route.params.id,this.pageSize,(this.pageNo-1)*this.pageSize);this.hotAlbums=e.data.hotAlbums,console.log(e.data)},handleSizeChange(e){this.pageSize=e,this.getSongerAlbum()},handleCurrentChange(e){this.pageNo=e,this.getSongerAlbum()},cutString(e){return e?e.length>8?e.substring(0,7)+"...":e:""},gethotAlbums(e){this.$router.push({name:"singerablumsong",query:{id:e}})}}},z=e=>(v("data-v-36a4a937"),e=e(),A(),e),f={class:"Album"},y={class:"contain"},N={class:"margin"},k={class:"hoeRecomedt"},x=["onClick"],V=z(()=>t("a",{class:"a"},null,-1));function w(e,i,I,B,n,s){const u=c,g=p("lazy");return o(),l("div",f,[t("div",y,[t("div",N,[t("div",k,[t("ul",null,[(o(!0),l(_,null,m(n.hotAlbums,a=>(o(),l("li",{key:a.id,onClick:D=>s.gethotAlbums(a.id)},[b(t("img",null,null,512),[[g,a.picUrl]]),V,t("p",null,r(s.cutString(a.name)),1),t("p",null,r(s.cutString(a.artist.name)),1)],8,x))),128))])]),S(u,{background:"",onSizeChange:s.handleSizeChange,onCurrentChange:s.handleCurrentChange,modelValue:n.pageNo,"onUpdate:modelValue":i[0]||(i[0]=a=>n.pageNo=a),"page-size":n.pageSize,layout:"prev, pager, next",total:n.total,class:"pagination"},null,8,["onSizeChange","onCurrentChange","modelValue","page-size","total"])])])])}var U=h(C,[["render",w],["__scopeId","data-v-36a4a937"]]);export{U as default};
