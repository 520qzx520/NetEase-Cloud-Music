import{_ as C,a as b,g as $,o as c,c as d,b as s,t as e,F as g,d as v,w as f,a5 as w,e as z,p as k,f as A,h as y,r as x,n as D}from"../index-e6aff8d6.js";import{E as N}from"../el-select/el-select.8325e87a.js";var U="./static/css//user-25423d5f.jpg";const L={data(){return{commentList:[],total:1e3,pageSize:20,pageNo:1,commenttotal:0,hotComments:0}},props:["id"],mounted(){this.getAlbumSongComment()},methods:{async getAlbumSongComment(){let t=await b.getAlbumSongComment(this.id,this.pageSize,(this.pageNo-1)*this.pageSize);this.commentList=t.data.comments,this.commenttotal=t.data.total,this.total=t.data.total,this.hotComments=t.data.hotComments.length,console.log(t.data)},handleSizeChange(t){this.pageSize=t,this.getAlbumSongComment()},handleCurrentChange(t){this.pageNo=t,this.getAlbumSongComment()}}},h=t=>(k("data-v-5a3c5020"),t=t(),A(),t),I={class:"comment-box"},M={class:"comment-contain"},V={class:"comment-contain-title"},G=h(()=>s("h3",null,"\u70ED\u95E8\u8BC4\u8BBA",-1)),H=y('<div class="user-input" data-v-5a3c5020><div class="input" data-v-5a3c5020><img src="'+U+'" data-v-5a3c5020><textarea class="text" placeholder="\u8BC4\u8BBA" data-v-5a3c5020></textarea></div><div class="user-input-icon" data-v-5a3c5020><i class="emjoy" data-v-5a3c5020></i><i class="at" data-v-5a3c5020></i><span data-v-5a3c5020>\uFF08520\u5B57\uFF09</span><a data-v-5a3c5020>\u8BC4\u8BBA</a></div></div>',1),R={class:"comment-contain-title newcomment"},q=h(()=>s("h3",null,"\u6700\u65B0\u8BC4\u8BBA",-1)),B={class:"comment-list-flex"},E={class:"lists"},j={style:{color:"red"}},F={class:"lists"},T={style:{color:"blue"}},P={class:"btm"},J={class:"btm-left"},K=h(()=>s("i",{class:"zan"},null,-1)),O=h(()=>s("span",null,"| \u56DE\u590D",-1));function Q(t,l,i,u,n,o){const p=N,_=$("lazy");return c(),d("div",I,[s("div",M,[s("div",V,[G,s("span",null,"("+e(n.hotComments)+")",1)]),H,s("div",R,[q,s("span",null,"("+e(n.commenttotal)+")",1)]),(c(!0),d(g,null,v(n.commentList,a=>(c(),d("div",{class:"comment-list",key:a.commentId},[s("div",B,[f(s("img",null,null,512),[[_,a.user.avatarUrl]]),s("div",E,[s("a",j,e(a.user.nickname),1),s("p",null,e(a.content),1),(c(!0),d(g,null,v(a.beReplied,(r,m)=>(c(),d("div",{class:"comment-list-flex",key:m},[f(s("img",null,null,512),[[_,r.user.avatarUrl]]),s("div",F,[s("a",T,e(r.user.nickname),1),s("p",null,e(r.content),1)])]))),128))])]),s("div",P,[s("span",J,e(a.timeStr),1),K,w(" ("+e(a.likedCount)+") ",1),O])]))),128)),z(p,{background:"",onSizeChange:o.handleSizeChange,onCurrentChange:o.handleCurrentChange,modelValue:n.pageNo,"onUpdate:modelValue":l[0]||(l[0]=a=>n.pageNo=a),"page-size":n.pageSize,layout:"prev, pager, next",total:n.total,class:"pagination"},null,8,["onSizeChange","onCurrentChange","modelValue","page-size","total"])])])}var W=C(L,[["render",Q],["__scopeId","data-v-5a3c5020"]]);const X={data(){return{imgURl:"",name:"",description:"",album:{},songs:[],singer:"",time:"",company:""}},components:{Comment:W},mounted(){this.getAlbumsSong(this.$route.query.id)},methods:{async getAlbumsSong(t){let l=await b.getAlbumsSong(t),i=l.data.album;this.songs=l.data.songs,this.singer=i.artists[0].name,this.time=i.publishTime,this.company=i.company,this.imgURl=i.picUrl,this.name=i.name,this.description=i.description,console.log(l.data)},cutString(t){return t?t.length>8?t.substring(0,8)+"...":t:""},async getUrl(t,l){await this.$store.dispatch("GetMusicData/getMusicUrl",t),await this.$store.dispatch("GetMusicData/getMusicLyric",t),await this.$store.dispatch("GetMusicData/getSongDetail",t),this.eventHub.$emit("goData","Go");let i=this.$refs.play.querySelectorAll("i");for(let u=0;u<i.length;u++)i[u].className="";l.target.className="active"},async getLyric(t){this.$router.push(`/playmusic/${t}`),await this.$store.dispatch("GetMusicData/getSongDetail",t),await this.$store.dispatch("GetMusicData/getMusicLyric",t),this.eventHub.$emit("goLyric","Lyric")},cutString(t){return t?t.length>8?t.substring(0,8)+"...":t:""},timeHandel(t){let l=this.timeAdd0(parseInt(t/6e4%60)),i=this.timeAdd0(parseInt(t/1e3%60));return`${l} : ${i}`},timeAdd0(t){return t<9?`0${t}`:t}},unmounted(){}},S=t=>(k("data-v-07f4e25a"),t=t(),A(),t),Y={class:"box"},Z={class:"right"},tt={class:"right-margin"},st={class:"right-img"},at=["src"],et={class:"right-sub"},nt={class:"title"},it=S(()=>s("i",null,null,-1)),lt={class:"singer"},ot={class:"span"},ct=y('<div class="icon" data-v-07f4e25a><a class="play" data-v-07f4e25a><i class="play-icon" data-v-07f4e25a></i><span data-v-07f4e25a>\u64AD\u653E</span></a><a class="add" data-v-07f4e25a></a><a class="dis" data-v-07f4e25a><span data-v-07f4e25a>\u6536\u85CF</span></a><a class="share" data-v-07f4e25a><span data-v-07f4e25a>\u5206\u4EAB</span></a><a class="download" data-v-07f4e25a><span data-v-07f4e25a>\u4E0B\u8F7D</span></a><a class="comment" data-v-07f4e25a><span data-v-07f4e25a>\u8BA8\u8BBA</span></a></div>',1),dt={class:"description"},rt={class:"margin-list"},ut=S(()=>s("div",{class:"title"},[s("h2",null,"\u6B4C\u66F2\u5217\u8868"),s("p",null,"100\u9996\u6B4C\u64AD\u653E\uFF1A"),s("span",null,"4912770560 \u6B21")],-1)),_t={class:"list",ref:"play"},mt=y('<ul class="header" data-v-07f4e25a><li class="w1" data-v-07f4e25a></li><li class="w2" data-v-07f4e25a>\u6807\u9898</li><li class="w3" data-v-07f4e25a>\u65F6\u957F</li><li class="w4" data-v-07f4e25a>\u6B4C\u624B</li></ul>',1),ht=["onClick"],pt=S(()=>s("i",null,null,-1)),gt=["onClick"],vt={class:"w3"},ft={class:"w4"};function yt(t,l,i,u,n,o){const p=x("Comment"),_=$("lazy");return c(),d("div",Y,[s("div",Z,[s("div",tt,[s("div",st,[s("img",{src:n.imgURl},null,8,at)]),s("div",et,[s("div",nt,[it,s("h3",null,e(n.name),1)]),s("div",lt,[s("p",ot,"\u6B4C\u624B: "+e(n.singer),1),s("p",null,"\u4E0A\u4F20\u65F6\u95F4: "+e(n.time),1),s("p",null,"\u51FA\u7248\u516C\u53F8: "+e(n.company),1)]),ct,s("p",dt,e(n.description),1)])]),s("div",rt,[ut,s("div",_t,[mt,(c(!0),d(g,null,v(n.songs,(a,r)=>(c(),d("ul",{key:a.id,class:D({pad2:r>3,"list-contain":!0,background:r%2!==0})},[s("li",{class:"w1 pd1",onClick:m=>o.getUrl(a.id,m)},[w(e(r+1)+" ",1),pt],8,ht),s("li",{class:"w2",onClick:m=>o.getLyric(a.id)},[f(s("img",null,null,512),[[_,a.al.picUrl]]),s("span",null,e(o.cutString(a.name)),1)],8,gt),s("li",vt,e(o.timeHandel(a.dt)),1),s("li",ft,e(o.cutString(a.ar[0].name)),1)],2))),128))],512)]),z(p,{id:this.$route.query.id},null,8,["id"])])])}var bt=C(X,[["render",yt],["__scopeId","data-v-07f4e25a"]]);export{bt as default};
